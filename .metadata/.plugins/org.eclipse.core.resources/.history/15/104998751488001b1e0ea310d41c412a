#include "main.h"



void PortInit(void)
{
  RCC->APB2ENR |= RCC_APB2ENR_IOPCEN; //Включаем тактирование порта GPIOB

  /// Настраиваем PB12 на выход ///
  GPIOC->CRH &= ~(GPIO_CRH_MODE13 | GPIO_CRH_CNF13); //для начала все сбрасываем в ноль

  //MODE: выход с максимальной частотой 2 МГц
  //CNF: режим push-pull
  GPIOC->CRH |= (0x02 << GPIO_CRH_MODE13_Pos) | (0x00 << GPIO_CRH_CNF13_Pos);



}
int main(void)
{
/*
	RCC->APB2ENR |= (1<<4);

	GPIOC->CRH |= (1<<21);  GPIOC->CRH &= ~(1<<20); //Set output mode
	GPIOC->CRH &= ~(1<<23); GPIOC->CRH &= ~(1<<22); //Set push-pull mode*/


    /* Loop forever */
	while(1){
		GPIOC->ODR ^= (1<<13);
		for(uint32_t cnt = 0; cnt < 8000000; cnt++);
	}
}
